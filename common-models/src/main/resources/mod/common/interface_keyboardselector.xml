<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.sourceforge.net/nifty.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xsi:schemaLocation="http://nifty-gui.sourceforge.net/nifty.xsd http://nifty-gui.sourceforge.net/nifty.xsd">
    <useStyles filename="nifty-default-styles.xml" />
    <useControls filename="nifty-default-controls.xml" />

    <screen id="${screenUniqueId}" controller="com.navid.trafalgar.mod.common.SelectKeyboardControlsScreenController">
        <layer id="background" childLayout="center">
        </layer>
        <layer id="foreground" childLayout="vertical" style="nifty-panel-no-shadow">
            <panel id="panel_top" height="15%" width="75%" align="center" childLayout="center">  
                <text text="Select the keys for keyboard assigned commands" font="Interface/Fonts/Default.fnt" width="100%" height="100%" />
            </panel>
            <panel id="panel_mid" height="70%" width="75%" align="center" childLayout="horizontal" style="nifty-panel-red">

                <panel id="panel_mid_left" width="100%" align="center" childLayout="horizontal">
                    <#list partitionedKeyboardCommands as partition>
                        <panel id="partition_${partition?counter}" width="50%" align="center" childLayout="vertical">
                            <#list partition as keyboardCommands>
                                <panel id="keyboardCommands_${keyboardCommands}" align="center" childLayout="horizontal">
                                    <control id="${keyboardCommands}" name="listBox" displayItems="4" forceSelection="true" horizontal="off" width="30%" align="left" />
                                    <text text="${keyboardCommands}" font="Interface/Fonts/Default.fnt" align="right" />
                                </panel>
                                <text text="" font="Interface/Fonts/Default.fnt" align="right" />
                            </#list>
                        </panel>
                    </#list>
                </panel>

            </panel>
            <panel id="panel_bottom" height="15%" width="75%" align="center" childLayout="horizontal">
                <panel id="panel_bottom_right" height="50%" width="25%" valign="center" childLayout="center">
                    <control name="button" label="Back" id="BackButton" align="center" valign="center"
                             visibleToMouse="true" >
                        <interact onClick="back()"/>
                    </control>
                </panel>
                <panel id="panel_bottom_right3" height="50%" width="25%" valign="center" childLayout="center">
                    <control name="button" label="Next" id="NextButton" align="center" valign="center"
                             visibleToMouse="true" >
                        <interact onClick="next()"/>
                    </control>
                </panel>
            </panel>
        </layer>
    </screen>
</nifty>
 